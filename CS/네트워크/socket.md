# 소켓(socket)

## 소켓의 정의
소켓(Socket)이란 네트워크상에서 동작하는 **프로그램 간 통신의 종착점(Endpoint).** <br>
프로그램이 네트워크에서 데이터를 통신할 수 있도록 연결해주는 연결부라고 볼 수 있다

> 내용 추가 :  TCP/IP 4계층 (네트워크 접속, 인터넷, 전송, 응용 계층)에서 **응용계층** 바로 아래에 소켓을 만들면 <br>TCP/IP계층에 대한 기반지식이 깊지 않아도 네트워크 개발이 가능해짐

소켓은 프로코톨, ip, 주소, 포트넘버로 정의된다
* 프로토콜 : 여러 시스템이 통신을 원활하게 수용하도록 해주는 통신규약
* ip : 인터넷에 연결되어 있는 장치(컴퓨터, 스마트폰, 타블릿, 서버 등등)들이 서로 인식하고 통신을 하기위해 존재하는 고유한 주소 <br>
예) 115.68.24.88, 192.168.0.1
* 포트 : 네트워크 상에서 통신하기 위해 호스트 내부적으로 프로세스가 할당 받아야 하는 고유한 숫자.<br> 
한 호스트 내에서 네트워크 통신을 하는 프로세스를 식별하기 위해 사용되는 값 -> 같은 호스트내에서 다른 프로세스가 같은 포트넘버를 가질 순 없다. 

> 데이터를 보내거나 받기 위해서는 반드시 소켓을 열어서 데이터를 보내거나 소켓으로부터 데이터를 읽어들여야 한다!

## 소켓의 역할에 따른 구분

1. 클라이언트 : 실제로 데이터 송수신이 일어나는 곳이다 
2. 서버 : 클라이언트 소켓의 연결 요청을 대기하고, 연결 요청이 오면 클라이언트 소켓을 생성해 통신이 가능하게 한다

## 소켓의 종류
    스트림(TCP) 와 데이터그램(UDP)가 있다.

### 1.TCP

> TCP 프로토콜은 **연결 지향 프로토콜**

TCP 프로토콜에서는 데이터 송수신을 위해 클라이언트와 서버의 소켓이 연결되어 있어야 하며, <br>
데이터가 유실되면 **데이터 재전송을 요청함으로써 신뢰성을 보장**함<br>
(상대적으로 UDP에 비해 속도가 느리다고 한다)

* 오류 수정, 전송처리, 흐름제어를 보장한다
* 송신된 순서에 따라 중복되지 않게 데이터를 수신한다
* 소량의 데이터 보다 대량의 데이터 전송에 적합하다

**신뢰성 있는 데이터 전송이 가능하다는 장점으로 인해 HTTP, FTP, TELNET 등 대부분의 응용 계층 프로토콜의 전송 계층으로 사용되고 있다**


### 2.UDP

> UDP 프로토콜은 **비연결 지향 프로토콜**

전송한 데이터가 잘 전달이 되었는지 확인하지 않고 **단지 데이터만 보낸다**는 부분에서 TCP랑 차이가 있음 <br>
신뢰성이 다소 떨어지는 대신 TCP에 비해 속도가 빠르다(비 신뢰적이라고 하지만, 헤더에 checksum이라는 값이 있어 보완이 된다고 한다)

* 데이터의 크기에 제한이 있다
* 확실하게 전달이 보장되지 않는다(데이터 손실이 있어도 오류발생X)
* 실시간 멀티미디어 정보 처리에 많이 사용된다

**UDP 프로토콜은 음악이나 동영상 스티리밍(streaming)과 같은 서비스에 적합합니다.**


## HTTP 통신, Socket 통신
### HTTP 통신
클라이언트의 요청(request)이 있을 때만 서버가 응답(response)해 정보를 전송하며, 곧바로 연결이 종료된다
* 단방향 통신이다(클라이언트-서버)
* 서버의 응답이후 바로 연결이 종료된다
* 실시간 연결이 아닌, 필요한 경우에 서버로 요청을 보내는 상황에 유용하다

### Socket 통신
서버와 클라이언트가 특정 포트를 통해 실시간으로 양방향 통신을 함
* 서버와 클라이언트가 계속 연결을 유지하는 양방향 통신이다
* 실시간으로 서버와 클라이언트가 데이터를 주고 받는 상황에서 사용된다
* 실시간 채팅, 스트리밍 서비스에 자주 사용된다
